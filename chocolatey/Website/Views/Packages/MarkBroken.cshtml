@using PoliteCaptcha
@model PackageBrokenViewModel
@{
    ViewBag.Tab = "Packages";
}

<h1 class="page-heading">Mark "@Model.PackageId" "@Model.PackageVersion" as Broken</h1>
<p class="message">
    By submitting this form, you agree to <em>disclose your email address</em> 
    to the package owners and gallery curators so they can contact you if necessary.
</p>
    using(Html.BeginForm()){
        <fieldset class="form">
            <legend>Mark Package Broken</legend>
            @Html.AntiForgeryToken()
            <div class="form-field">
                @if (!Model.ConfirmedUser) {
                    @Html.LabelFor(m => m.Email)
                    @Html.EditorFor(m => m.Email)
                    <span class="field-hint-message">Provide your email address so we can follow up with you.</span>
                    @Html.ValidationMessageFor(m => m.Email)
                }
                else {
                    <input type="hidden" name="Email" value="test@example.com" />
                }
            </div>
            
            <div class="form-field">
                @Html.LabelFor(m => m.WindowsOsInformation)
                @Html.EditorFor(m => m.WindowsOsInformation)
                @Html.ValidationMessageFor(m => m.WindowsOsInformation)
            </div>

            <div class="form-field">
                @Html.LabelFor(m => m.Message)
                @Html.TextAreaFor(m => m.Message, 10, 50, null)
                @Html.ValidationMessageFor(m => m.Message)
            </div>

            @Html.SpamPreventionFields()
            <input type="submit" value="Outdated" title="Mark outdated '@Model.PackageId' '@Model.PackageVersion'" />
        </fieldset>
    }

@section BottomScripts {
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
}